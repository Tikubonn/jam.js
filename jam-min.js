function jam(aM,n){var O;var ad;const aE={source:"",sourcefile:null,compileonly:false,standard:O,standardscope:{},nativescope:{},userscope:{}};var aL;if(arguments.length==2){aL=aM;aM=n;aM.source=aL}else{if(typeof aM=="string"){aL=aM;aM=aE;aM.source=aL}}aM.source=aM.source||aE.source;aM.sourcefile=aM.sourcefile||aE.sourcefile;aM.compileonly=aM.compileonly||aE.compileonly;aM.standard=aM.standard||aE.standard;aM.standardscope=aM.standardscope||aE.standardscope;aM.nativescope=aM.nativescope||aE.nativescope;aM.userscope=aM.userscope||aE.userscope;function V(aT){return aT()}function k(aT){return aT[aT.length-1]}function v(aU,aT){return Array.prototype.slice.call(aU,aT||0)}function aO(aU,aT){v(aT).map(function(aW,aV){aU[aV]&&aU[aV](aW())})}function ah(aU,aT){if(0<aU.length){return aU[0][aT]?aU[0][aT]:ah(aU.slice(1),aT)}return aA(aM.nativescope,aT)}function aA(aU,aT){return A(aU,aT)}function I(aU){var aT;var aV=ad;var aW=u(ad,{});return function(){ad=aW;aT=aU.apply(arguments);ad=aV;return aT}}function S(aT){var aU;var aW;return function aV(aX){if(!aW){aW=ad}if(!aU){aU=aW[0]}if(arguments.length==1){aU[aT]=aX}return ah(aW,aT)}}function aD(aT){return function aU(aV){if(arguments.length==1){aT=aV}return aT}}function g(aV,aU){return function aT(aW){if(arguments.length==1){aV[aU]=aW}return aV[aU]}}function A(aV,aT){return function aU(aW){if(arguments.length==1){aV[aT]=aW}return R(aV,aT)}}function R(aU,aT){var aV=aU[aT];if(aV instanceof Object){if(aV.constructor==Array){return z(aV)}if(aV.constructor==Object){return ai(aV)}}if(typeof aV=="function"){return ap(aV)}return aV}function ap(aU){return function aT(aV){return aD(aU.apply(null,aV().map(V).map(V)))}}function z(aT){return aT.map(function(aV,aU){return A(aT,aU)})}function ai(aV){var aU={};var aT;for(aT in aV){aU[aT]=A(aV,aT)}return aU}function c(aU,aT){return function(){var aV=aU()();if(!aV){throw ("jam error: jam called a undefined function.")}if(typeof aV!="function"){throw ("jam error: jam called a not function.")}return aV(aT)}}function J(aT){return function(){return aT}}function w(aT){return aD(Array.prototype.slice.call(arguments,0))}function L(aT){return aT.slice(1)}function u(aU,aT){return[aT].concat(aU)}function av(){ad=u(ad,{})}function aw(){ad=L(ad)}function b(aT){return aD(function(aU){return aT.apply(null,aU())})}function r(aT){return J(aT)}var ab=function(){return ai(aM.nativescope)};var o=r(true);var N=r(false);var E=r(null);var t=r(undefined);var aH=b(function(aU,aT){return aD(aU()===aT())});var ag=b(function(aU,aT){return aD(aU()()===aT()())});var i=b(function(aT){return aD(aT()()===true)});var Q=b(function(aT){return aD(aT()()===false)});var aa=b(function(aT){return aD(typeof aT()()==="boolean")});var m=b(function(aT){return aD(typeof aT()()==="number")});var X=b(function(aT){return aD(aT()()===null)});var K=b(function(aT){return aD(aT()()===undefined)});var aF=b(function(aT){return aD(!aT()())});var ac=b(function(aV){var aU;var aT=o();for(aU=0;aU<arguments.length;aU++){aT=arguments[aU]();if(!aT()){break}}return aT});var x=b(function(aV){var aU;var aT=o();for(aU=0;aU<arguments.length;aU++){aT=arguments[aU]();if(aT()){break}}return aT});var ae=b(function(aT){return J(aT)});var p=b(function(aT){return aT()});var F=b(function(aV){var aT=aV();var aW;var aU;for(aU=1;aU<arguments.length;aU++){aW=arguments[aU]();if(!(aT()<aW())){return N}aT=aW}return o});var af=b(function(aV){var aT=aV();var aW;var aU;for(aU=1;aU<arguments.length;aU++){aW=arguments[aU]();if(!(aT()>aW())){return N}aT=aW}return o});var aP=b(function(aV){var aT=aV();var aW;var aU;for(aU=1;aU<arguments.length;aU++){aW=arguments[aU]();if(!(aT()<=aW())){return N}aT=aW}return o});var ay=b(function(aV){var aT=aV();var aW;var aU;for(aU=1;aU<arguments.length;aU++){aW=arguments[aU]();if(!(aT()>=aW())){return N}aT=aW}return o});var C=b(function(aU){var aT=aU();aT(aT()+1);return aT});var aI=b(function(aU){var aT=aU();aT(aT()-1);return aT});var aK=b(function(aU,aV){var aT=aU();aT(aT()+(aV?aV()():1));return aT});var d=b(function(aU,aV){var aT=aU();aT(aT()-(aV?aV()():1));return aT});function aR(aU,aT,aV){return function(){var aY,a0,aX,aW,aZ;aY=arguments;a0=aY.length||0;if(aT<=a0){aX=aV==null;aW=aX?aY[0]()():aV;aZ=aX?1:0;while(aZ<a0){aW=aU(aW,aY[aZ]()()),aZ++}return aD(aW)}throw ("jam error: too few arguments to a function.")}}var j=b(aR(function(aU,aT){return aU+aT},0,0));var aC=b(aR(function(aU,aT){return aU-aT},0,0));var aQ=b(aR(function(aU,aT){return aU*aT},0,1));var l=b(aR(function(aU,aT){return aU/aT},1,null));var aS=b(aR(function(aU,aT){return aU%aT},2,null));var f=b(function(aU){var aT=v(arguments,1);return aU()()?au()(J(aT)):E});var Y=b(function(aU){var aT=v(arguments,1);return aU()()?E:au()(J(aT))});var D=b(function(aV,aU,aT){return aV()()?aU():aT()});var al=b(function(aT,aU){return aT(aU())});var ar=b(function(aU,aV){var aT=aU();aT(aV()());return aT});var ax=b(function(aU){var aT=aU();console.log(aT());return aT});var H=b(function(aW){var aV={};var aU;for(aU=0;aU<arguments.length;aU+=2){var aT=arguments[aU];var aX=arguments[aU+1];aV[aT()()]=aX()()}return aD(aV)});var W=b(function(aT){return aD(v(arguments).map(V).map(V))});var U=b(function(aT){return aD(v(arguments))});var a=b(function(aT){return aD(Object.prototype.toString.call(aT()())===Object.prototype.toString.call([]))});var y=b(function(aU,aV){var aT=aV();aT().push(aU()());return aT});var aB=b(function(aU){var aT=aU()().shift();return aD(aT)});var at=b(function(aW,aV){var aU=aW()();var aT=aV()();return g(aT,aU)});var h=b(function(aU,aW){var aV=aU()();var aT=aW()();return g(aT,aV)});var au=b(function(aT){return k(v(arguments).map(V))});var aj=b(function(aU){var aT=v(arguments,1);return aU()()(J(aT))});var ak=b(function(aU,aT){return aU()()(J(aT()().map(J)))});var q=b(function(aU){var aV=aU()();var aT=v(arguments,1);return I(b(function(aX){var aW;av();aO(aV,arguments);aW=au()(J(aT));aw();return aW}))});var ao=b(function(aU){var aV=v(arguments,1);var aT=q()(J(aV));return al()(w(aU,J(aT)))});O={pop:aB,push:y,eq:aH,equal:ag,"native":ab,">":af,"<":F,">=":ay,"<=":aP,when:f,unless:Y,"if":D,not:aF,and:ac,or:x,"true":o,"false":N,"null":E,"undefined":t,"true?":i,"false?":Q,"null?":X,"undefined?":K,"bool?":aa,"list?":a,lazy:ae,force:p,setq:al,setf:ar,print:ax,lambda:q,defun:ao,funcall:aj,apply:ak,progn:au,object:H,list:W,lisy:U,get:at,nth:h,"+":j,"-":aC,"*":aQ,"/":l,"%":aS,"++":C,"--":aI,incf:aK,decf:d};ad=[aM.userscope,aM.standardscope,O];const P=function(){};const Z=function(){};const G=0;const M=1;const aJ=2;1;function B(aZ,aW){function aY(){switch(aW){case G:return aV(aZ);case M:return a0(aZ);case aJ:return aU(aZ);default:return E}}function aU(a2){var a1=a2.indexOf(".");if(a1==-1){return aX(a2)}return aT(a2)}function aX(a1){return J(aD(parseInt(a1)))}function aT(a1){return J(aD(parseFloat(a1)))}function a0(a1){return J(aD(a1))}function aV(a1){return S(a1)}return aY}function aG(aT){return new B(aT,G)}function aN(aT){return new B(aT,M)}function T(aT){return new B(aT,aJ)}function an(a4){function a5(be,bf){var bg=[];while(0<bf--){bg.push(be.shift())}return bg.join("")}function a7(be,bg){var bf;for(bf=0;bf<be.length;bf++){if(bg.indexOf(be[bf])<0){break}}return a5(be,bf)}function a0(be,bg){var bf;for(bf=0;bf<be.length;bf++){if(0<=bg.indexOf(be[bf])){break}}return a5(be,bf)}function bb(bf){var be=aV(bf,1);var bg=a5(bf,be+1);return bg.slice(1,-1)}function aV(bf,bg){var be=bf.indexOf('"',bg);if(0<=be&&bf[be-1]=="\\"){return aV(bf,be+1)}return be}function aW(be,bf){return be[0]=="("}function bc(be,bf){return be[0]==")"}function ba(be,bf){return 0<="1234567890".indexOf(be[0])}function a6(be,bf){return be[0]=='"'}function a8(be,bf){return true}function aX(be,bf){return true}function a9(be,bf){return 0<=" \t\n".indexOf(be[0])}function aU(be,bf){be.shift();bf.push(P)}function bd(be,bf){be.shift();bf.push(Z)}function aZ(be,bg){var bf=a7(be,"1234567890.");bg.push(T(bf))}function a3(be,bg){var bf=bb(be);bg.push(aN(bf))}function a2(be,bg){var bf=a0(be,"( \t\n)");bg.push(aG(bf))}function aY(be,bf){be.shift()}function aT(be,bf){be.shift()}function a1(bg,bi){var be=bi.split("");var bh=[];while(0<be.length){for(var bf=0;bf<bg.length;bf++){if(bg[bf][0](be)){bg[bf][1](be,bh);break}}}return bh}return a1([[a9,aY],[aW,aU],[bc,bd],[ba,aZ],[a6,a3],[a8,a2],[aX,aT]],a4)}function s(aT){function aU(aW){var aX=[];while(0<aW.length){var aV=aW.shift();if(aV==P){aX.push(aU(aW))}else{if(aV==Z){break}else{aX.push(aV)}}}return aX}return aU(aT)}function e(aU){function aT(aY){var aX=aY[0];var aZ=aY.slice(1);return c(aW(aX),J(aZ.map(aW)))}function aW(aX){if(aX instanceof Array){return aT(aX)}return aX()}function aV(aX){return c(J(au),J(aX.map(aW)))}return aV(aU)}var am=an(aM.source);var aq=s(am);var az=e(aq);if(aM.compileonly){return az}return az()};

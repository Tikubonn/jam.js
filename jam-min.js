function jam(aF,m){var L;var aa;const az={source:"",sourcefile:null,compileonly:false,standard:L,standardscope:{},nativescope:{},userscope:{}};var aE;if(arguments.length==2){aE=aF;aF=m;aF.source=aE}else{if(typeof aF=="string"){aE=aF;aF=az;aF.source=aE}}aF.source=aF.source||az.source;aF.sourcefile=aF.sourcefile||az.sourcefile;aF.compileonly=aF.compileonly||az.compileonly;aF.standard=aF.standard||az.standard;aF.standardscope=aF.standardscope||az.standardscope;aF.nativescope=aF.nativescope||az.nativescope;aF.userscope=aF.userscope||az.userscope;function S(aL){return aL()}function j(aL){return aL[aL.length-1]}function u(aM,aL){return Array.prototype.slice.call(aM,aL||0)}function aH(aM,aL){u(aL).map(function(aO,aN){aM[aN]&&aM[aN](aO())})}function ae(aM,aL){if(0<aM.length){return aM[0][aL]?aM[0][aL]:ae(aM.slice(1),aL)}return aw(aF.nativescope,aL)}function aw(aM,aL){return y(aM,aL)}function F(aM){var aL;var aN=aa;var aO=t(aa,{});return function(){aa=aO;aL=aM.apply(arguments);aa=aN;return aL}}function P(aL){var aM;var aO;return function aN(aP){if(!aO){aO=aa}if(!aM){aM=aO[0]}if(arguments.length==1){aM[aL]=aP}return ae(aO,aL)}}function ay(aL){return function aM(aN){if(arguments.length==1){aL=aN}return aL}}function f(aN,aM){return function aL(aO){if(arguments.length==1){aN[aM]=aO}return aN[aM]}}function y(aN,aL){return function aM(aO){if(arguments.length==1){aN[aL]=aO}return O(aN,aL)}}function O(aM,aL){var aN=aM[aL];if(aN instanceof Object){if(aN.constructor==Array){return x(aN)}if(aN.constructor==Object){return af(aN)}}return aN}function x(aL){return aL.map(function(aN,aM){return y(aL,aM)})}function af(aN){var aM={};var aL;for(aL in aN){aM[aL]=y(aN,aL)}return aM}function c(aM,aL){return function(){var aN=aM()();if(!aN){throw ("jam internal error: jam called a undefined function.")}if(typeof aN!="function"){throw ("jam internal error: jam called a not function.")}return aN(aL)}}function G(aL){return function(){return aL}}function v(aL){return ay(Array.prototype.slice.call(arguments,0))}function I(aL){return aL.slice(1)}function t(aM,aL){return[aL].concat(aM)}function ap(){aa=t(aa,{})}function aq(){aa=I(aa)}function b(aL){return ay(function(aM){return aL.apply(null,aM())})}function q(aL){return G(aL)}var Y=function(){return af(aF.nativescope)};var n=q(true);var K=q(false);var B=q(null);var s=q(undefined);var aC=b(function(aM,aL){return ay(aM===aL)});var ad=b(function(aM,aL){return ay(aM==aL)});var h=b(function(aL){return ay(aL()()===true)});var N=b(function(aL){return ay(aL()()===false)});var X=b(function(aL){return ay(typeof aL()()==="boolean")});var l=b(function(aL){return ay(typeof aL()()==="number")});var U=b(function(aL){return ay(aL()()===null)});var H=b(function(aL){return ay(aL()()===undefined)});var aA=b(function(aL){return ay(!aL()())});var Z=b(function(aN){var aM;var aL=n();for(aM=0;aM<arguments.length;aM++){aL=arguments[aM]();if(!aL()){break}}return aL});var w=b(function(aN){var aM;var aL=n();for(aM=0;aM<arguments.length;aM++){aL=arguments[aM]();if(aL()){break}}return aL});var ab=b(function(aL){return G(aL)});var o=b(function(aL){return aL()});var C=b(function(aN){var aL=aN();var aO;var aM;for(aM=1;aM<arguments.length;aM++){aO=arguments[aM]();if(!(aL()<aO())){return K}aL=aO}return n});var ac=b(function(aN){var aL=aN();var aO;var aM;for(aM=1;aM<arguments.length;aM++){aO=arguments[aM]();if(!(aL()>aO())){return K}aL=aO}return n});var aI=b(function(aN){var aL=aN();var aO;var aM;for(aM=1;aM<arguments.length;aM++){aO=arguments[aM]();if(!(aL()<=aO())){return K}aL=aO}return n});var au=b(function(aN){var aL=aN();var aO;var aM;for(aM=1;aM<arguments.length;aM++){aO=arguments[aM]();if(!(aL()>=aO())){return K}aL=aO}return n});var i=b(function(aN){var aM=aN()();var aL;for(aL=1;aL<arguments.length;aL++){aM+=arguments[aL]()()}return ay(aM)});var ax=b(function(aN){var aM=aN()();var aL;for(aL=1;aL<arguments.length;aL++){aM-=arguments[aL]()()}return ay(aM)});var aJ=b(function(aN){var aM=aN()();var aL;for(aL=1;aL<arguments.length;aL++){aM*=arguments[aL]()()}return ay(aM)});var k=b(function(aN){var aM=aN()();var aL;for(aL=1;aL<arguments.length;aL++){aM/=arguments[aL]()()}return ay(aM)});var aK=b(function(aN){var aM=aN()();var aL;for(aL=1;aL<arguments.length;aL++){aM%=arguments[aL]()()}return ay(aM)});var e=b(function(aM){var aL=u(arguments,1);return aM()()?ar()(G(aL)):B});var V=b(function(aM){var aL=u(arguments,1);return aM()()?B:ar()(G(aL))});var A=b(function(aN,aM,aL){return aN()()?aM():aL()});var ai=b(function(aL,aM){return aL(aM())});var an=b(function(aM,aN){var aL=aM();aL(aN()());return aL});var at=b(function(aM){var aL=aM();console.log(aL());return aL});var E=b(function(aO){var aN={};var aM;for(aM=0;aM<arguments.length;aM+=2){var aL=arguments[aM];var aP=arguments[aM+1];aN[aL()()]=aP()()}return ay(aN)});var T=b(function(aL){return ay(u(arguments).map(S).map(S))});var R=b(function(aL){return ay(u(arguments))});var a=b(function(aL){return ay(Object.prototype.toString.call(aL()())===Object.prototype.toString.call([]))});var ao=b(function(aO,aN){var aM=aO()();var aL=aN()();return f(aL,aM)});var g=b(function(aM,aO){var aN=aM()();var aL=aO()();return f(aL,aN)});var ar=b(function(aL){return j(u(arguments).map(S))});var ag=b(function(aM){var aL=u(arguments,1);return aM()()(G(aL))});var ah=b(function(aM,aL){return aM()()(G(aL()().map(G)))});var p=b(function(aM){var aN=aM()();var aL=u(arguments,1);return F(b(function(aP){var aO;ap();aH(aN,arguments);aO=ar()(G(aL));aq();return aO}))});var al=b(function(aM){var aN=u(arguments,1);var aL=p()(G(aN));return ai()(v(aM,G(aL)))});L={eq:aC,equal:ad,"native":Y,">":ac,"<":C,">=":au,"<=":aI,when:e,unless:V,"if":A,not:aA,and:Z,or:w,"true":n,"false":K,"null":B,"undefined":s,"true?":h,"false?":N,"null?":U,"undefined?":H,"bool?":X,"list?":a,lazy:ab,force:o,setq:ai,setf:an,print:at,lambda:p,defun:al,funcall:ag,apply:ah,progn:ar,object:E,list:T,lisy:R,get:ao,nth:g,"+":i,"-":ax,"*":aJ,"/":k,"%":aK};aa=[aF.userscope,aF.standardscope,L];const M=function(){};const W=function(){};const D="symbol";const J="string";const aD="number";function z(aS,aP){this.value=aS;this.type=aP;var aR=this;function aM(aU){return G(ay(parseInt(aU)))}function aN(aU){return G(ay(parseFloat(aU)))}function aQ(aV){var aU=aV.indexOf(".");if(aU==-1){return aM(aV)}return aN(aV)}function aT(aU){return G(ay(aU))}function aO(aU){return P(aU)}function aL(){switch(aR.type){case D:return aO(aR.value);case J:return aT(aR.value);case aD:return aQ(aR.value);default:return G(null)}}this.force=aL}function aB(aL){return new z(aL,D)}function aG(aL){return new z(aL,J)}function Q(aL){return new z(aL,aD)}function ak(aW){function aX(a6,a7){var a8=[];while(0<a7--){a8.push(a6.shift())}return a8.join("")}function aZ(a6,a8){var a7;for(a7=0;a7<a6.length;a7++){if(a8.indexOf(a6[a7])<0){break}}return aX(a6,a7)}function aS(a6,a8){var a7;for(a7=0;a7<a6.length;a7++){if(0<=a8.indexOf(a6[a7])){break}}return aX(a6,a7)}function a3(a7){var a6=aN(a7,1);var a8=aX(a7,a6+1);return a8.slice(1,-1)}function aN(a7,a8){var a6=a7.indexOf('"',a8);if(0<=a6&&a7[a6-1]=="\\"){return aN(a7,a6+1)}return a6}function aO(a6,a7){return a6[0]=="("}function a4(a6,a7){return a6[0]==")"}function a2(a6,a7){return 0<="1234567890".indexOf(a6[0])}function aY(a6,a7){return a6[0]=='"'}function a0(a6,a7){return true}function aP(a6,a7){return true}function a1(a6,a7){return 0<=" \t\n".indexOf(a6[0])}function aM(a6,a7){a6.shift();a7.push(M)}function a5(a6,a7){a6.shift();a7.push(W)}function aR(a6,a8){var a7=aZ(a6,"1234567890.");a8.push(Q(a7))}function aV(a6,a8){var a7=a3(a6);a8.push(aG(a7))}function aU(a6,a8){var a7=aS(a6,"( \t\n)");a8.push(aB(a7))}function aQ(a6,a7){a6.shift()}function aL(a6,a7){a6.shift()}function aT(a8,ba){var a6=ba.split("");var a9=[];while(0<a6.length){for(var a7=0;a7<a8.length;a7++){if(a8[a7][0](a6)){a8[a7][1](a6,a9);break}}}return a9}return aT([[a1,aQ],[aO,aM],[a4,a5],[a2,aR],[aY,aV],[a0,aU],[aP,aL]],aW)}function r(aL){function aM(aO){var aP=[];while(0<aO.length){var aN=aO.shift();if(aN==M){aP.push(aM(aO))}else{if(aN==W){break}else{aP.push(aN)}}}return aP}return aM(aL)}function d(aM){function aL(aQ){var aP=aQ[0];var aR=aQ.slice(1);return c(aO(aP),G(aR.map(aO)))}function aO(aP){if(aP instanceof Array){return aL(aP)}return aP.force()}function aN(aP){return c(G(ar),G(aP.map(aO)))}return aN(aM)}var aj=ak(aF.source);var am=r(aj);var av=d(am);if(aF.compileonly){return av}return av()};

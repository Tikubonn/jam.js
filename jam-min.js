function jam(e,y){var aa;var ad;const b={source:"",sourcefile:null,compileonly:false,standard:aa,standardscope:{},userscope:{}};var w;if(arguments.length==2){w=e;e=y;e.source=w}else{if(typeof e=="string"){w=e;e=b;e.source=w}}e.source=e.source||b.source;e.sourcefile=e.sourcefile||b.sourcefile;e.compileonly=e.compileonly||b.compileonly;e.standard=e.standard||b.standard;e.standardscope=e.standardscope||b.standardscope;e.userscope=e.userscope||b.userscope;function d(ae){return ae()}function S(ae){return ae[ae.length-1]}function o(af,ae){return Array.prototype.slice.call(af,ae||0)}function n(af,ae){o(ae).map(function(ah,ag){af[ag]&&af[ag](ah())})}function W(af,ae){if(0<af.length){return af[0][ae]?af[0][ae]:W(af.slice(1),ae)}return a(undefined)}function F(af){var ae;var ag=ad;var ah=Y(ad,{});return function(){ad=ah;ae=af.apply(arguments);ad=ag;return ae}}function K(ae){var af;var ah;return function ag(ai){if(!ah){ah=ad}if(!af){af=ah[0]}if(arguments.length==1){af[ae]=ai}return W(ah,ae)}}function k(ae){return function af(ag){if(arguments.length==1){ae=ag}return ae}}function u(af,ae){return function(){return af()()(ae)}}function a(ae){return function(){return ae}}function v(ae){return k(Array.prototype.slice.call(arguments,0))}function X(ae){return ae.slice(1)}function Y(af,ae){return[ae].concat(af)}function q(){ad=Y(ad,{})}function p(){ad=X(ad)}function Z(ae){return k(function(af){return ae.apply(null,af())})}function r(ae){return a(ae)}var h=Z(function(ae){return a(ae)});var J=Z(function(ae){return ae()});var U=Z(function(ag){var af=ag()();var ae;for(ae=1;ae<arguments.length;ae++){af+=arguments[ae]()()}return k(af)});var j=Z(function(ag){var af=ag()();var ae;for(ae=1;ae<arguments.length;ae++){af-=arguments[ae]()()}return k(af)});var T=Z(function(ag){var af=ag()();var ae;for(ae=1;ae<arguments.length;ae++){af*=arguments[ae]()()}return k(af)});var L=Z(function(ag){var af=ag()();var ae;for(ae=1;ae<arguments.length;ae++){af/=arguments[ae]()()}return k(af)});var V=Z(function(ag){var af=ag()();var ae;for(ae=1;ae<arguments.length;ae++){af%=arguments[ae]()()}return k(af)});var H=Z(function(ae,af){return ae(af())});var O=Z(function(af,ag){var ae=af();ae(ag()());return ae});var x=Z(function(af){var ae=af();console.log(ae());return ae});var G=Z(function(ae){return k(o(arguments).map(d))});var D=Z(function(ae){return k(o(arguments))});var g=Z(function(ah,af){var ae=ah()();var ag=af()();return ae[ag]});var f=Z(function(ae){return S(o(arguments).map(d))});var s=Z(function(af){var ae=o(arguments,1);return af()()(a(ae))});var B=Z(function(af,ae){return af()()(a(ae()().map(a)))});var c=Z(function(af){var ag=af()();var ae=o(arguments,1);return F(Z(function(ai){var ah;q();n(ag,arguments);ah=f()(a(ae));p();return ah}))});var A=Z(function(af){var ag=o(arguments,1);var ae=c()(a(ag));return H()(v(af,a(ae)))});aa={lazy:h,force:J,setq:H,setf:O,print:x,lambda:c,defun:A,funcall:s,apply:B,progn:f,list:G,lisy:D,nth:g,"+":U,"-":j,"*":T,"/":L,"%":V};ad=[e.userscope,e.standardscope,aa];const z=function(){};const R=function(){};const m="symbol";const l="string";const ab="number";function N(al,ai){this.value=al;this.type=ai;var ak=this;function af(an){return a(k(parseInt(an)))}function ag(an){return a(k(parseFloat(an)))}function aj(ao){var an=ao.indexOf(".");if(an==-1){return af(ao)}return ag(ao)}function am(an){return a(k(an))}function ah(an){return K(an)}function ae(){switch(ak.type){case m:return ah(ak.value);case l:return am(ak.value);case ab:return aj(ak.value);default:return a(null)}}this.force=ae}function E(ae){return new N(ae,m)}function C(ae){return new N(ae,l)}function i(ae){return new N(ae,ab)}function t(ap){function aq(aA,aB){var aC=[];while(0<aB--){aC.push(aA.shift())}return aC.join("")}function at(aA,aC){var aB;for(aB=0;aB<aA.length;aB++){if(aC.indexOf(aA[aB])<0){break}}return aq(aA,aB)}function al(aA,aC){var aB;for(aB=0;aB<aA.length;aB++){if(0<=aC.indexOf(aA[aB])){break}}return aq(aA,aB)}function ax(aB){var aA=ag(aB,1);var aC=aq(aB,aA+1);return aC.slice(1,-1)}function ag(aB,aC){var aA=aB.indexOf('"',aC);if(0<aA&&aB[aA-1]=="\\"){return ag(aB,aA+1)}return aA}function ah(aA,aB){return aA[0]=="("}function ay(aA,aB){return aA[0]==")"}function aw(aA,aB){return 0<="1234567890".indexOf(aA[0])}function ar(aA,aB){return aA[0]=='"'}function au(aA,aB){return true}function ai(aA,aB){return true}function av(aA,aB){return 0<=" \t\n".indexOf(aA[0])}function af(aA,aB){aA.shift();aB.push(z)}function az(aA,aB){aA.shift();aB.push(R)}function ak(aA,aC){var aB=at(aA,"1234567890.");aC.push(i(aB))}function ao(aA,aC){var aB=ax(aA);aC.push(C(aB))}function an(aA,aC){var aB=al(aA,"( \t\n)");aC.push(E(aB))}function aj(aA,aB){aA.shift()}function ae(aA,aB){console.log("rest: "+aA.join(""));aA.pop(0)}function am(aC,aE){var aA=aE.split("");var aD=[];while(0<aA.length){for(var aB=0;aB<aC.length;aB++){if(aC[aB][0](aA)){aC[aB][1](aA,aD);break}}}return aD}return am([[av,aj],[ah,af],[ay,az],[aw,ak],[ar,ao],[au,an],[ai,ae]],ap)}function P(ae){function af(ah){var ai=[];while(0<ah.length){var ag=ah.shift();if(ag==z){ai.push(af(ah))}else{if(ag==R){break}else{ai.push(ag)}}}return ai}return af(ae)}function ac(af){function ae(aj){var ai=aj[0];var ak=aj.slice(1);return u(ah(ai),a(ak.map(ah)))}function ah(ai){if(ai instanceof Array){return ae(ai)}return ai.force()}function ag(ai){return u(K("progn"),a(ai.map(ah)))}return ag(af)}var M=t(e.source);var I=P(M);var Q=ac(I);if(e.compileonly){return Q}return Q()};

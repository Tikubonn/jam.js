function jam(aq,k){var F;var R;const ak={source:"",sourcefile:null,compileonly:false,standard:F,standardscope:{},userscope:{}};var ap;if(arguments.length==2){ap=aq;aq=k;aq.source=ap}else{if(typeof aq=="string"){ap=aq;aq=ak;aq.source=ap}}aq.source=aq.source||ak.source;aq.sourcefile=aq.sourcefile||ak.sourcefile;aq.compileonly=aq.compileonly||ak.compileonly;aq.standard=aq.standard||ak.standard;aq.standardscope=aq.standardscope||ak.standardscope;aq.userscope=aq.userscope||ak.userscope;function L(aw){return aw()}function h(aw){return aw[aw.length-1]}function s(ax,aw){return Array.prototype.slice.call(ax,aw||0)}function at(ax,aw){s(aw).map(function(az,ay){ax[ay]&&ax[ay](az())})}function T(ax,aw){if(0<ax.length){return ax[0][aw]?ax[0][aw]:T(ax.slice(1),aw)}return A(undefined)}function z(ax){var aw;var ay=R;var az=r(R,{});return function(){R=az;aw=ax.apply(arguments);R=ay;return aw}}function I(aw){var ax;var az;return function ay(aA){if(!az){az=R}if(!ax){ax=az[0]}if(arguments.length==1){ax[aw]=aA}return T(az,aw)}}function aj(aw){return function ax(ay){if(arguments.length==1){aw=ay}return aw}}function c(ax,aw){return function(){var ay=ax()();if(!ay){throw ("jam internal error: jam called a undefined function.")}return ay(aw)}}function A(aw){return function(){return aw}}function t(aw){return aj(Array.prototype.slice.call(arguments,0))}function C(aw){return aw.slice(1)}function r(ax,aw){return[aw].concat(ax)}function ad(){R=r(R,{})}function ae(){R=C(R)}function b(aw){return aj(function(ax){return aw.apply(null,ax())})}function o(aw){return A(aw)}var l=o(true);var E=o(false);var w=o(null);var q=o(undefined);var am=b(function(ax,aw){return aj(ax===aw)});var f=b(function(aw){return aj(aw()()===true)});var H=b(function(aw){return aj(aw()()===false)});var P=b(function(aw){return aj(typeof aw()()==="boolean")});var j=b(function(aw){return aj(typeof aw()()==="number")});var N=b(function(aw){return aj(aw()()===null)});var B=b(function(aw){return aj(aw()()===undefined)});var al=b(function(aw){return aj(!aw()())});var Q=b(function(ay){var ax;var aw=l();for(ax=0;ax<arguments.length;ax++){aw=arguments[ax]();if(!aw()){break}}return aw});var u=b(function(ay){var ax;var aw=l();for(ax=0;ax<arguments.length;ax++){aw=arguments[ax]();if(aw()){break}}return aw});var S=b(function(aw){return A(aw)});var m=b(function(aw){return aw()});var g=b(function(ay){var ax=ay()();var aw;for(aw=1;aw<arguments.length;aw++){ax+=arguments[aw]()()}return aj(ax)});var ai=b(function(ay){var ax=ay()();var aw;for(aw=1;aw<arguments.length;aw++){ax-=arguments[aw]()()}return aj(ax)});var au=b(function(ay){var ax=ay()();var aw;for(aw=1;aw<arguments.length;aw++){ax*=arguments[aw]()()}return aj(ax)});var i=b(function(ay){var ax=ay()();var aw;for(aw=1;aw<arguments.length;aw++){ax/=arguments[aw]()()}return aj(ax)});var av=b(function(ay){var ax=ay()();var aw;for(aw=1;aw<arguments.length;aw++){ax%=arguments[aw]()()}return aj(ax)});var W=b(function(aw,ax){return aw(ax())});var ab=b(function(ax,ay){var aw=ax();aw(ay()());return aw});var ag=b(function(ax){var aw=ax();console.log(aw());return aw});var x=b(function(az){var ay={};var ax;for(ax=0;ax<arguments.length;ax+=2){var aw=arguments[ax];var aA=arguments[ax+1];ay[aw()()]=aA()}return aj(ay)});var M=b(function(aw){return aj(s(arguments).map(L))});var J=b(function(aw){return aj(s(arguments))});var a=b(function(aw){return aj(Object.prototype.toString.call(aw()())===Object.prototype.toString.call([]))});var ac=b(function(az,ay){var ax=az()();var aw=ay()();return aw[ax]});var e=b(function(ax,az){var ay=ax()();var aw=az()();return aw[ay]});var af=b(function(aw){return h(s(arguments).map(L))});var U=b(function(ax){var aw=s(arguments,1);return ax()()(A(aw))});var V=b(function(ax,aw){return ax()()(A(aw()().map(A)))});var n=b(function(ax){var ay=ax()();var aw=s(arguments,1);return z(b(function(aA){var az;ad();at(ay,arguments);az=af()(A(aw));ae();return az}))});var Z=b(function(ax){var ay=s(arguments,1);var aw=n()(A(ay));return W()(t(ax,A(aw)))});F={not:al,and:Q,or:u,"true":l,"false":E,"null":w,"undefined":q,"true?":f,"false?":H,"null?":N,"undefined?":B,"bool?":P,"list?":a,lazy:S,force:m,setq:W,setf:ab,print:ag,lambda:n,defun:Z,funcall:U,apply:V,progn:af,object:x,list:M,lisy:J,get:ac,nth:e,"+":g,"-":ai,"*":au,"/":i,"%":av};R=[aq.userscope,aq.standardscope,F];const G=function(){};const O=function(){};const y="symbol";const D="string";const ao="number";function v(aD,aA){this.value=aD;this.type=aA;var aC=this;function ax(aF){return A(aj(parseInt(aF)))}function ay(aF){return A(aj(parseFloat(aF)))}function aB(aG){var aF=aG.indexOf(".");if(aF==-1){return ax(aG)}return ay(aG)}function aE(aF){return A(aj(aF))}function az(aF){return I(aF)}function aw(){switch(aC.type){case y:return az(aC.value);case D:return aE(aC.value);case ao:return aB(aC.value);default:return A(null)}}this.force=aw}function an(aw){return new v(aw,y)}function ar(aw){return new v(aw,D)}function K(aw){return new v(aw,ao)}function Y(aH){function aI(aR,aS){var aT=[];while(0<aS--){aT.push(aR.shift())}return aT.join("")}function aK(aR,aT){var aS;for(aS=0;aS<aR.length;aS++){if(aT.indexOf(aR[aS])<0){break}}return aI(aR,aS)}function aD(aR,aT){var aS;for(aS=0;aS<aR.length;aS++){if(0<=aT.indexOf(aR[aS])){break}}return aI(aR,aS)}function aO(aS){var aR=ay(aS,1);var aT=aI(aS,aR+1);return aT.slice(1,-1)}function ay(aS,aT){var aR=aS.indexOf('"',aT);if(0<aR&&aS[aR-1]=="\\"){return ay(aS,aR+1)}return aR}function az(aR,aS){return aR[0]=="("}function aP(aR,aS){return aR[0]==")"}function aN(aR,aS){return 0<="1234567890".indexOf(aR[0])}function aJ(aR,aS){return aR[0]=='"'}function aL(aR,aS){return true}function aA(aR,aS){return true}function aM(aR,aS){return 0<=" \t\n".indexOf(aR[0])}function ax(aR,aS){aR.shift();aS.push(G)}function aQ(aR,aS){aR.shift();aS.push(O)}function aC(aR,aT){var aS=aK(aR,"1234567890.");aT.push(K(aS))}function aG(aR,aT){var aS=aO(aR);aT.push(ar(aS))}function aF(aR,aT){var aS=aD(aR,"( \t\n)");aT.push(an(aS))}function aB(aR,aS){aR.shift()}function aw(aR,aS){console.log("rest: "+aR.join(""));aR.pop(0)}function aE(aT,aV){var aR=aV.split("");var aU=[];while(0<aR.length){for(var aS=0;aS<aT.length;aS++){if(aT[aS][0](aR)){aT[aS][1](aR,aU);break}}}return aU}return aE([[aM,aB],[az,ax],[aP,aQ],[aN,aC],[aJ,aG],[aL,aF],[aA,aw]],aH)}function p(aw){function ax(az){var aA=[];while(0<az.length){var ay=az.shift();if(ay==G){aA.push(ax(az))}else{if(ay==O){break}else{aA.push(ay)}}}return aA}return ax(aw)}function d(ax){function aw(aB){var aA=aB[0];var aC=aB.slice(1);return c(az(aA),A(aC.map(az)))}function az(aA){if(aA instanceof Array){return aw(aA)}return aA.force()}function ay(aA){return c(I("progn"),A(aA.map(az)))}return ay(ax)}var X=Y(aq.source);var aa=p(X);var ah=d(aa);if(aq.compileonly){return ah}return ah()};

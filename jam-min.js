function jam(aM,n){var O;var ac;const aE={source:"",sourcefile:null,compileonly:false,standard:O,standardscope:{},nativescope:{},userscope:{}};var aL;if(arguments.length==2){aL=aM;aM=n;aM.source=aL}else{if(typeof aM=="string"){aL=aM;aM=aE;aM.source=aL}}aM.source=aM.source||aE.source;aM.sourcefile=aM.sourcefile||aE.sourcefile;aM.compileonly=aM.compileonly||aE.compileonly;aM.standard=aM.standard||aE.standard;aM.standardscope=aM.standardscope||aE.standardscope;aM.nativescope=aM.nativescope||aE.nativescope;aM.userscope=aM.userscope||aE.userscope;function V(aU){return aU()}function k(aU){return aU[aU.length-1]}function v(aV,aU){return Array.prototype.slice.call(aV,aU||0)}function aO(aV,aU){v(aU).map(function(aX,aW){aV[aW]&&aV[aW](aX())})}function D(aV,aU){v(aU).map(function(aX,aW){aV[aW]&&aV[aW](aX)})}function ah(aV,aU){if(0<aV.length){return aV[0][aU]?aV[0][aU]:ah(aV.slice(1),aU)}return aA(aM.nativescope,aU)}function aA(aV,aU){return z(aV,aU)}function I(aV){var aU;var aW=ac;var aX=u(ac,{});return function(){ac=aX;aU=aV.apply(arguments);ac=aW;return aU}}function S(aU){var aV;var aX;return function aW(aY){if(!aX){aX=ac}if(!aV){aV=aX[0]}if(arguments.length==1){aV[aU]=aY}return ah(aX,aU)}}function aD(aU){return function aV(aW){if(arguments.length==1){aU=aW}return aU}}function g(aW,aV){return function aU(aX){if(arguments.length==1){aW[aV]=aX}return aW[aV]}}function z(aW,aU){return function aV(aX){if(arguments.length==1){aW[aU]=aX}return R(aW,aU)}}function R(aV,aU){var aW=aV[aU];if(typeof aW=="function"){return ao(aW)}return aW}function ao(aV){return function aU(aW){return aD(aV.apply(null,aW().map(V).map(V)))}}function c(aV,aU){return function(){var aW=aV()();if(!aW){throw ("jam error: jam called a undefined function.")}if(typeof aW!="function"){throw ("jam error: jam called a not function.")}return aW(aU)}}function J(aU){return function(){return aU}}function w(aU){return aD(Array.prototype.slice.call(arguments,0))}function L(aU){return aU.slice(1)}function u(aV,aU){return[aU].concat(aV)}function av(){ac=u(ac,{})}function aw(){ac=L(ac)}function b(aU){return aD(function(aV){return aU.apply(null,aV())})}function r(aU){return J(aU)}var o=r(true);var N=r(false);var E=r(null);var t=r(undefined);var aH=b(function(aV,aU){return aD(aV()===aU())});var ag=b(function(aV,aU){return aD(aV()()===aU()())});var i=b(function(aU){return aD(aU()()===true)});var Q=b(function(aU){return aD(aU()()===false)});var aa=b(function(aU){return aD(typeof aU()()==="boolean")});var m=b(function(aU){return aD(typeof aU()()==="number")});var X=b(function(aU){return aD(aU()()===null)});var K=b(function(aU){return aD(aU()()===undefined)});var aF=b(function(aU){return aD(!aU()())});var ab=b(function(aW){var aV;var aU=o();for(aV=0;aV<arguments.length;aV++){aU=arguments[aV]();if(!aU()){break}}return aU});var x=b(function(aW){var aV;var aU=o();for(aV=0;aV<arguments.length;aV++){aU=arguments[aV]();if(aU()){break}}return aU});var ad=b(function(aU){return J(aU)});var p=b(function(aU){return aU()()});var F=b(function(aW){var aU=aW();var aX;var aV;for(aV=1;aV<arguments.length;aV++){aX=arguments[aV]();if(!(aU()<aX())){return N}aU=aX}return o});var af=b(function(aW){var aU=aW();var aX;var aV;for(aV=1;aV<arguments.length;aV++){aX=arguments[aV]();if(!(aU()>aX())){return N}aU=aX}return o});var aP=b(function(aW){var aU=aW();var aX;var aV;for(aV=1;aV<arguments.length;aV++){aX=arguments[aV]();if(!(aU()<=aX())){return N}aU=aX}return o});var ay=b(function(aW){var aU=aW();var aX;var aV;for(aV=1;aV<arguments.length;aV++){aX=arguments[aV]();if(!(aU()>=aX())){return N}aU=aX}return o});var B=b(function(aU){aU=aU();aU(aU()+1);return aU});var aI=b(function(aU){aU=aU();aU(aU()-1);return aU});var aK=b(function(aV,aU){aV=aV();aV(aV()+(aU?aU()():1));return aV});var d=b(function(aV,aU){aV=aV();aV(aV()-(aU?aU()():1));return aV});function aS(aV,aU,aW){return function(){var aZ,a1,aY,aX,a0;aZ=arguments;a1=aZ.length||0;if(aU<=a1){aY=aW==null;aX=aY?aZ[0]()():aW;a0=aY?1:0;while(a0<a1){aX=aV(aX,aZ[a0]()()),a0++}return aD(aX)}throw ("jam error: too few arguments to a function.")}}var j=b(aS(function(aV,aU){return aV+aU},0,0));var aC=b(aS(function(aV,aU){return aV-aU},0,0));var aR=b(aS(function(aV,aU){return aV*aU},0,1));var l=b(aS(function(aV,aU){return aV/aU},1,null));var aT=b(aS(function(aV,aU){return aV%aU},2,null));var f=b(function(aV){var aU=v(arguments,1);return aV()()?au()(J(aU)):E});var Y=b(function(aV){var aU=v(arguments,1);return aV()()?E:au()(J(aU))});var C=b(function(aW,aV,aU){return aW()()?aV():aU()});var ak=b(function(aU,aV){return aU(aV())});var aq=b(function(aV,aW){var aU=aV();aU(aW()());return aU});var ax=b(function(aV){var aU=aV();console.log(aU());return aU});var H=b(function(aW){var aV={};var aU;for(aU=0;aU<arguments.length;aU+=2){aV[arguments[aU]()()]=arguments[aU+1]()()}return aD(aV)});var W=b(function(aU){return aD(v(arguments).map(V).map(V))});var U=b(function(aU){return aD(v(arguments))});var a=b(function(aU){return aD(Object.prototype.toString.call(aU()())===Object.prototype.toString.call([]))});var y=b(function(aU,aV){aV=aV();aV().push(aU()());return aV});var aB=b(function(aU){return aD(aU()().shift())});var ar=b(function(aV,aU){return g(aU()(),aV()())});var h=b(function(aU,aV){return g(aV()(),aU()())});var au=b(function(aU){return k(v(arguments).map(V))});var ai=b(function(aV){var aU=v(arguments,1);return aV()()(J(aU))});var aj=b(function(aV,aU){return aV()()(J(aU()().map(J)))});var q=b(function(aV){var aW=aV()();var aU=v(arguments,1);return I(b(function(aY){var aX;av();aO(aW,arguments);aX=au()(J(aU));aw();return aX}))});var ae=b(function(aV){var aW=aV()();var aU=v(arguments,1);return I(b(function(aY){var aX;av();D(aW,arguments);aX=au()(J(aU));aw();return aX()}))});var an=b(function(aV){var aW=v(arguments,1);var aU=q()(J(aW));return ak()(w(aV,J(aU)))});var aQ=b(function(aV){var aW=v(arguments,1);var aU=ae()(J(aW));return ak()(w(aV,J(aU)))});O={defsyn:aQ,syntax:ae,pop:aB,push:y,eq:aH,equal:ag,">":af,"<":F,">=":ay,"<=":aP,when:f,unless:Y,"if":C,not:aF,and:ab,or:x,"true":o,"false":N,"null":E,"undefined":t,"true?":i,"false?":Q,"null?":X,"undefined?":K,"bool?":aa,"list?":a,lazy:ad,force:p,setq:ak,setf:aq,print:ax,lambda:q,defun:an,funcall:ai,apply:aj,progn:au,object:H,list:W,lisy:U,get:ar,nth:h,"+":j,"-":aC,"*":aR,"/":l,"%":aT,"++":B,"--":aI,incf:aK,decf:d};ac=[aM.userscope,aM.standardscope,O];const P=function(){};const Z=function(){};const G=0;const M=1;const aJ=2;function A(a0,aX){function aZ(){switch(aX){case G:return aW(a0);case M:return a1(a0);case aJ:return aV(a0);default:return E}}function aV(a3){var a2=a3.indexOf(".");if(a2==-1){return aY(a3)}return aU(a3)}function aY(a2){return J(aD(parseInt(a2)))}function aU(a2){return J(aD(parseFloat(a2)))}function a1(a2){return J(aD(a2))}function aW(a2){return S(a2)}return aZ}function aG(aU){return A(aU,G)}function aN(aU){return A(aU,M)}function T(aU){return A(aU,aJ)}function at(aV,aU){return J(function(){return ar()(w(J(aD(aU)),aV()))})}function am(a6){function a7(bh,bi){var bj=[];while(0<bi--){bj.push(bh.shift())}return bj.join("")}function a9(bh,bj){var bi;for(bi=0;bi<bh.length;bi++){if(bj.indexOf(bh[bi])<0){break}}return a7(bh,bi)}function a1(bh,bj){var bi;for(bi=0;bi<bh.length;bi++){if(0<=bj.indexOf(bh[bi])){break}}return a7(bh,bi)}function be(bi){var bh=aW(bi,1);var bj=a7(bi,bh+1);return bj.slice(1,-1)}function aW(bi,bj){var bh=bi.indexOf('"',bj);if(0<=bh&&bi[bh-1]=="\\"){return aW(bi,bh+1)}return bh}function aX(bh,bi){return bh[0]=="("}function bf(bh,bi){return bh[0]==")"}function bd(bh,bi){return 0<="1234567890".indexOf(bh[0])}function a8(bh,bi){return bh[0]=='"'}function bb(bh,bi){return bh[0]=="."}function ba(bh,bi){return true}function aY(bh,bi){return true}function bc(bh,bi){return 0<=" \t\n".indexOf(bh[0])}function aV(bh,bi){bh.shift();bi.push(P)}function bg(bh,bi){bh.shift();bi.push(Z)}function a0(bh,bj){var bi=a9(bh,"1234567890.");bj.push(T(bi))}function a5(bh,bj){var bi=be(bh);bj.push(aN(bi))}function a4(bh,bj){var bi=a1(bh,"( \t\n.)");bj.push(aG(bi))}function a3(bh,bk){bh.shift();var bi=a1(bh,"( \t\n.)");var bj=bk.pop();bk.push(at(bj,bi))}function aZ(bh,bi){bh.shift()}function aU(bh,bi){bh.shift()}function a2(bj,bl){var bh=bl.split("");var bk=[];while(0<bh.length){for(var bi=0;bi<bj.length;bi++){if(bj[bi][0](bh)){bj[bi][1](bh,bk);break}}}return bk}return a2([[bc,aZ],[aX,aV],[bf,bg],[bd,a0],[a8,a5],[bb,a3],[ba,a4],[aY,aU]],a6)}function s(aU){function aV(aX){var aY=[];while(0<aX.length){var aW=aX.shift();if(aW==P){aY.push(aV(aX))}else{if(aW==Z){break}else{aY.push(aW)}}}return aY}return aV(aU)}function e(aV){function aU(aZ){var aY=aZ[0];var a0=aZ.slice(1);return c(aX(aY),J(a0.map(aX)))}function aX(aY){if(aY instanceof Array){return aU(aY)}return aY()}function aW(aY){return c(J(au),J(aY.map(aX)))}return aW(aV)}var al=am(aM.source);var ap=s(al);var az=e(ap);if(aM.compileonly){return az}return az()};

function jam(e,D){var an;var aq;const b={source:"",sourcefile:null,compileonly:false,standard:an,standardscope:{},userscope:{}};var B;if(arguments.length==2){B=e;e=D;e.source=B}else{if(typeof e=="string"){B=e;e=b;e.source=B}}e.source=e.source||b.source;e.sourcefile=e.sourcefile||b.sourcefile;e.compileonly=e.compileonly||b.compileonly;e.standard=e.standard||b.standard;e.standardscope=e.standardscope||b.standardscope;e.userscope=e.userscope||b.userscope;function d(ar){return ar()}function ae(ar){return ar[ar.length-1]}function p(at,ar){return Array.prototype.slice.call(at,ar||0)}function o(at,ar){p(ar).map(function(av,au){at[au]&&at[au](av())})}function ai(at,ar){if(0<at.length){return at[0][ar]?at[0][ar]:ai(at.slice(1),ar)}return a(undefined)}function L(at){var ar;var au=aq;var av=al(aq,{});return function(){aq=av;ar=at.apply(arguments);aq=au;return ar}}function T(ar){var at;var av;return function au(aw){if(!av){av=aq}if(!at){at=av[0]}if(arguments.length==1){at[ar]=aw}return ai(av,ar)}}function l(ar){return function at(au){if(arguments.length==1){ar=au}return ar}}function y(at,ar){return function(){var au=at()();if(!au){throw ("jam internal error: jam called a undefined function.")}return au(ar)}}function a(ar){return function(){return ar}}function A(ar){return l(Array.prototype.slice.call(arguments,0))}function ak(ar){return ar.slice(1)}function al(at,ar){return[ar].concat(at)}function r(){aq=al(aq,{})}function q(){aq=ak(aq)}function am(ar){return l(function(at){return ar.apply(null,at())})}function s(ar){return a(ar)}var t=s(true);var x=s(false);var w=s(null);var aa=s(undefined);var aj=am(function(ar){return l(ar()()===true)});var f=am(function(ar){return l(ar()()===false)});var M=am(function(ar){return l(ar()()===null)});var F=am(function(ar){return l(ar()()===undefined)});var O=am(function(ar){return l(!ar()())});var P=am(function(au){var at;var ar=t();for(at=0;at<arguments.length;at++){ar=arguments[at]();if(!ar()){break}}return ar});var z=am(function(au){var at;var ar=t();for(at=0;at<arguments.length;at++){ar=arguments[at]();if(ar()){break}}return ar});var i=am(function(ar){return a(ar)});var S=am(function(ar){return ar()});var ag=am(function(au){var at=au()();var ar;for(ar=1;ar<arguments.length;ar++){at+=arguments[ar]()()}return l(at)});var k=am(function(au){var at=au()();var ar;for(ar=1;ar<arguments.length;ar++){at-=arguments[ar]()()}return l(at)});var ad=am(function(au){var at=au()();var ar;for(ar=1;ar<arguments.length;ar++){at*=arguments[ar]()()}return l(at)});var V=am(function(au){var at=au()();var ar;for(ar=1;ar<arguments.length;ar++){at/=arguments[ar]()()}return l(at)});var ah=am(function(au){var at=au()();var ar;for(ar=1;ar<arguments.length;ar++){at%=arguments[ar]()()}return l(at)});var Q=am(function(ar,at){return ar(at())});var Y=am(function(at,au){var ar=at();ar(au()());return ar});var C=am(function(at){var ar=at();console.log(ar());return ar});var af=am(function(av){var au={};var at;for(at=0;at<arguments.length;at+=2){var ar=arguments[at];var aw=arguments[at+1];au[ar()()]=aw()}return l(au)});var N=am(function(ar){return l(p(arguments).map(d))});var J=am(function(ar){return l(p(arguments))});var U=am(function(av,au){var at=av()();var ar=au()();return ar[at]});var h=am(function(at,av){var au=at()();var ar=av()();return ar[au]});var g=am(function(ar){return ae(p(arguments).map(d))});var u=am(function(at){var ar=p(arguments,1);return at()()(a(ar))});var H=am(function(at,ar){return at()()(a(ar()().map(a)))});var c=am(function(at){var au=at()();var ar=p(arguments,1);return L(am(function(aw){var av;r();o(au,arguments);av=g()(a(ar));q();return av}))});var G=am(function(at){var au=p(arguments,1);var ar=c()(a(au));return Q()(A(at,a(ar)))});an={not:O,and:P,or:z,"true":t,"false":x,"null":w,"undefined":aa,"true?":aj,"false?":f,"null?":M,"undefined?":F,lazy:i,force:S,setq:Q,setf:Y,print:C,lambda:c,defun:G,funcall:u,apply:H,progn:g,object:af,list:N,lisy:J,get:U,nth:h,"+":ag,"-":k,"*":ad,"/":V,"%":ah};aq=[e.userscope,e.standardscope,an];const E=function(){};const ac=function(){};const n="symbol";const m="string";const ao="number";function X(az,aw){this.value=az;this.type=aw;var ay=this;function at(aB){return a(l(parseInt(aB)))}function au(aB){return a(l(parseFloat(aB)))}function ax(aC){var aB=aC.indexOf(".");if(aB==-1){return at(aC)}return au(aC)}function aA(aB){return a(l(aB))}function av(aB){return T(aB)}function ar(){switch(ay.type){case n:return av(ay.value);case m:return aA(ay.value);case ao:return ax(ay.value);default:return a(null)}}this.force=ar}function K(ar){return new X(ar,n)}function I(ar){return new X(ar,m)}function j(ar){return new X(ar,ao)}function v(aD){function aE(aN,aO){var aP=[];while(0<aO--){aP.push(aN.shift())}return aP.join("")}function aG(aN,aP){var aO;for(aO=0;aO<aN.length;aO++){if(aP.indexOf(aN[aO])<0){break}}return aE(aN,aO)}function az(aN,aP){var aO;for(aO=0;aO<aN.length;aO++){if(0<=aP.indexOf(aN[aO])){break}}return aE(aN,aO)}function aK(aO){var aN=au(aO,1);var aP=aE(aO,aN+1);return aP.slice(1,-1)}function au(aO,aP){var aN=aO.indexOf('"',aP);if(0<aN&&aO[aN-1]=="\\"){return au(aO,aN+1)}return aN}function av(aN,aO){return aN[0]=="("}function aL(aN,aO){return aN[0]==")"}function aJ(aN,aO){return 0<="1234567890".indexOf(aN[0])}function aF(aN,aO){return aN[0]=='"'}function aH(aN,aO){return true}function aw(aN,aO){return true}function aI(aN,aO){return 0<=" \t\n".indexOf(aN[0])}function at(aN,aO){aN.shift();aO.push(E)}function aM(aN,aO){aN.shift();aO.push(ac)}function ay(aN,aP){var aO=aG(aN,"1234567890.");aP.push(j(aO))}function aC(aN,aP){var aO=aK(aN);aP.push(I(aO))}function aB(aN,aP){var aO=az(aN,"( \t\n)");aP.push(K(aO))}function ax(aN,aO){aN.shift()}function ar(aN,aO){console.log("rest: "+aN.join(""));aN.pop(0)}function aA(aP,aR){var aN=aR.split("");var aQ=[];while(0<aN.length){for(var aO=0;aO<aP.length;aO++){if(aP[aO][0](aN)){aP[aO][1](aN,aQ);break}}}return aQ}return aA([[aI,ax],[av,at],[aL,aM],[aJ,ay],[aF,aC],[aH,aB],[aw,ar]],aD)}function Z(ar){function at(av){var aw=[];while(0<av.length){var au=av.shift();if(au==E){aw.push(at(av))}else{if(au==ac){break}else{aw.push(au)}}}return aw}return at(ar)}function ap(at){function ar(ax){var aw=ax[0];var ay=ax.slice(1);return y(av(aw),a(ay.map(av)))}function av(aw){if(aw instanceof Array){return ar(aw)}return aw.force()}function au(aw){return y(T("progn"),a(aw.map(av)))}return au(at)}var W=v(e.source);var R=Z(W);var ab=ap(R);if(e.compileonly){return ab}return ab()};
